<?php

if (!defined('WHMCS')) die('You cannot access this file directly.');

function company_autocomplete($vars) {
    if ($vars['filename'] === 'register') {
        return <<<HTML
        <script>
        function _0x1081(){const _0x10f2eb=['inputTaxId','company_results','\x20<small\x20class=\x22text-muted\x22>','367266LxxyUk','transform','value','https://suggestions.pappers.fr/v2?q=','mt-2','block','ville','scale(1.015)','2510952vuiAxj','<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-start\x22><div><h6\x20class=\x22fw-semibold\x20mb-1\x22>','innerHTML','contains','nom_entreprise','Erreur\x20API\x20Pappers:','39eNPMfJ','click','parentElement','#fff','</small></h6><p\x20class=\x22text-muted\x20mb-1\x20small\x22>','forme_juridique','<p\x20class=\x22text-muted\x20px-2\x20py-2\x20mb-0\x22>Aucune\x20entreprise\x20trouvée.</p>','length','Radié','boxShadow','&longueur=5&cibles=nom_entreprise','0\x201px\x203px\x20rgba(0,0,0,0.05)','mouseleave','appendChild','DOMContentLoaded','1790663CCBrYD','className','siege','siren_formate','div','14248eueoEN','style','cursor:\x20pointer;transition:\x20all\x200.2s\x20ease-in-out;','trim','0\x203px\x208px\x20rgba(0,0,0,0.1)','none','Non\x20disponible','code_postal','numero_tva_intracommunautaire','15285648uzvvXp','display','scale(1)','Erreur\x20TVA:','inputCompanyName','cssText','siren','error','https://api.pappers.fr/v2/entreprise/tva_intracommunautaire?siren=','target','1823388WBLEXE','adresse_ligne_1','getElementById','createElement','986400AGGjJY','backgroundColor','statut_rcs','addEventListener','</p><p\x20class=\x22text-muted\x20mb-0\x20small\x22>SIREN\x20:\x20'];_0x1081=function(){return _0x10f2eb;};return _0x1081();}function _0xeac8(_0x58ef87,_0x284939){const _0x108147=_0x1081();return _0xeac8=function(_0xeac819,_0x1956cd){_0xeac819=_0xeac819-0xe5;let _0x59faed=_0x108147[_0xeac819];return _0x59faed;},_0xeac8(_0x58ef87,_0x284939);}const _0x44ba54=_0xeac8;(function(_0x424bf,_0x22f160){const _0x3b474e=_0xeac8,_0xeba4c0=_0x424bf();while(!![]){try{const _0xf3b22e=-parseInt(_0x3b474e(0x117))/0x1+-parseInt(_0x3b474e(0xf8))/0x2*(parseInt(_0x3b474e(0x125))/0x3)+-parseInt(_0x3b474e(0x11f))/0x4+parseInt(_0x3b474e(0x10f))/0x5+-parseInt(_0x3b474e(0x10b))/0x6+-parseInt(_0x3b474e(0xf3))/0x7+parseInt(_0x3b474e(0x101))/0x8;if(_0xf3b22e===_0x22f160)break;else _0xeba4c0['push'](_0xeba4c0['shift']());}catch(_0x1df683){_0xeba4c0['push'](_0xeba4c0['shift']());}}}(_0x1081,0x70777),document[_0x44ba54(0x112)](_0x44ba54(0xf2),function(){const _0x500a83=_0x44ba54,_0x8ebd8=document[_0x500a83(0x10d)](_0x500a83(0x105)),_0x3dea4e=document[_0x500a83(0x10d)](_0x500a83(0x114)),_0x567dd6=document[_0x500a83(0x10e)](_0x500a83(0xf7));async function _0x46ec97(_0xcf9b03){const _0x3d513a=_0x500a83;try{const _0x4e3f47=await fetch(_0x3d513a(0x109)+_0xcf9b03);return(await _0x4e3f47['json']())[_0x3d513a(0x100)]||'';}catch(_0x1f0953){return console[_0x3d513a(0x108)](_0x3d513a(0x104),_0x1f0953),'';}}function _0x245ff8(){const _0x2ffd42=_0x500a83;_0x567dd6[_0x2ffd42(0x121)]='',_0x567dd6[_0x2ffd42(0xf9)][_0x2ffd42(0x102)]=_0x2ffd42(0xfd);}let _0x15d051;_0x567dd6['id']=_0x500a83(0x115),_0x567dd6[_0x500a83(0xf4)]=_0x500a83(0x11b),_0x567dd6[_0x500a83(0xf9)][_0x500a83(0x106)]='display:\x20none;margin-top:\x208px;',_0x8ebd8[_0x500a83(0xe6)][_0x500a83(0xf1)](_0x567dd6),_0x8ebd8['addEventListener']('input',function(){const _0x29809a=_0x500a83,_0x144409=_0x8ebd8[_0x29809a(0x119)][_0x29809a(0xfb)]();clearTimeout(_0x15d051),_0x15d051=setTimeout(async()=>{if(_0x144409['length']<0x2)return void _0x245ff8();const _0xe7a5ba=await async function(_0xc33642){const _0x1fbe40=_0xeac8;if(!_0xc33642||_0xc33642[_0x1fbe40(0xeb)]<0x2)return[];try{const _0xa524df=await fetch(_0x1fbe40(0x11a)+encodeURIComponent(_0xc33642)+_0x1fbe40(0xee));return(await _0xa524df['json']())['resultats_nom_entreprise']||[];}catch(_0x54102f){return console[_0x1fbe40(0x108)](_0x1fbe40(0x124),_0x54102f),[];}}(_0x144409);!async function(_0x4de085){const _0x592013=_0xeac8;if(_0x567dd6[_0x592013(0x121)]='',0x0===_0x4de085['length'])return _0x567dd6['innerHTML']=_0x592013(0xea),void(_0x567dd6[_0x592013(0xf9)]['display']=_0x592013(0x11c));for(const _0x573b50 of _0x4de085){if(_0x592013(0xec)===_0x573b50[_0x592013(0x111)])continue;const _0x2d66f4=await _0x46ec97(_0x573b50[_0x592013(0x107)]),_0x1685f0=document[_0x592013(0x10e)](_0x592013(0xf7));_0x1685f0[_0x592013(0xf4)]='p-3\x20border\x20rounded\x20shadow-sm\x20bg-white\x20mb-2\x20company-card',_0x1685f0[_0x592013(0xf9)]['cssText']=_0x592013(0xfa),_0x1685f0[_0x592013(0x121)]=_0x592013(0x120)+_0x573b50[_0x592013(0x123)]+_0x592013(0x116)+(_0x573b50[_0x592013(0xe9)]||'')+_0x592013(0xe8)+(_0x573b50['siege']?.[_0x592013(0x10c)]||'')+',\x20'+(_0x573b50[_0x592013(0xf5)]?.[_0x592013(0xff)]||'')+'\x20'+(_0x573b50[_0x592013(0xf5)]?.[_0x592013(0x11d)]||'')+_0x592013(0x113)+_0x573b50[_0x592013(0xf6)]+'\x20/\x20TVA\x20:\x20'+(_0x2d66f4||_0x592013(0xfe))+'</p></div></div>',_0x1685f0[_0x592013(0x112)]('mouseenter',()=>{const _0x6c5f7c=_0x592013;_0x1685f0['style'][_0x6c5f7c(0x110)]='#e9f4ff',_0x1685f0[_0x6c5f7c(0xf9)][_0x6c5f7c(0x118)]=_0x6c5f7c(0x11e),_0x1685f0[_0x6c5f7c(0xf9)]['boxShadow']=_0x6c5f7c(0xfc);}),_0x1685f0[_0x592013(0x112)](_0x592013(0xf0),()=>{const _0x1fa2ec=_0x592013;_0x1685f0[_0x1fa2ec(0xf9)][_0x1fa2ec(0x110)]=_0x1fa2ec(0xe7),_0x1685f0[_0x1fa2ec(0xf9)][_0x1fa2ec(0x118)]=_0x1fa2ec(0x103),_0x1685f0[_0x1fa2ec(0xf9)][_0x1fa2ec(0xed)]=_0x1fa2ec(0xef);}),_0x1685f0[_0x592013(0x112)](_0x592013(0xe5),()=>{const _0x264454=_0x592013;_0x8ebd8[_0x264454(0x119)]=_0x573b50[_0x264454(0x123)],_0x2d66f4&&_0x3dea4e&&(_0x3dea4e['value']=_0x2d66f4),_0x245ff8();}),_0x1685f0['addEventListener'](_0x592013(0xe5),()=>{const _0x5d88d3=_0x592013;_0x8ebd8[_0x5d88d3(0x119)]=_0x573b50['nom_entreprise'],_0x2d66f4&&_0x3dea4e&&(_0x3dea4e['value']=_0x2d66f4);}),_0x567dd6[_0x592013(0xf1)](_0x1685f0);}_0x567dd6[_0x592013(0xf9)][_0x592013(0x102)]=_0x592013(0x11c);}(_0xe7a5ba);},0x12c);}),document[_0x500a83(0x112)](_0x500a83(0xe5),_0x341e98=>{const _0xb5c863=_0x500a83;_0x567dd6[_0xb5c863(0x122)](_0x341e98['target'])||_0x341e98[_0xb5c863(0x10a)]===_0x8ebd8||_0x245ff8();});}));
        </script>
        HTML;
    }
}

add_hook('ClientAreaFooterOutput', 1, 'company_autocomplete');
